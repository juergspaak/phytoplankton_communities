This folder contains all programms and data external data used in connection with the paper

"Trait richness does not increase species richness in light-limited phytoplankton communities"
by J.W. Spaak, J. Huisman and F. DeLaender, 2018


##########################################################################
Python code:
##########################################################################

sim_EF_time.py:
	Simulates species densities (and hence Ecosystem function) over time for randomized starting communities.
	Must be run via jobarray_EF_time.sh

sim_richness.py
	Simulates species richness for randomized starting communities. 
	Must be run via jobarray_richness.sh

sim_appendix.py
	Simulates data similar to sim_richness and sim_EF_time, but for more realistic communities.
	Must be run via jobarray_appendix.sh

generate_species.py
	Generates the (randomized) species used for simulations

I_in_functions.py
	Creates external light fluctuations

pigments.py
	Loads external data with infromation about the pigment absorption spectra
	This data is contained in the CSV files: gp_kupper.csv, absorptivity_kupper.csv and additional_pigments.csv

richness_computation.py
	Computes equilibrium densities of communities with and without fluctuations of I_in

differential_equations.py
	Contains an own made vectorized version of an ODE

connection_data.py
	Combines the data generated by the jobarray_* scripts into one csv file.
	Can be used with the following command
	python connection_data.py `name` 1 n
	Where `name` is the corresponding name of the python file

plot_*
	Plots the corresponding figure


##########################################################################
Slurm bash scripts
##########################################################################

jobarray_*
	Runs the corresponding python script sim_*
	Must be run with the command: sbatch --array=1-n jobarray_*
	Where n is the number of calls.


##########################################################################
Data
##########################################################################

EF*.csv
	Contains informations about species richness, pigment richness an EF from the corresponding authors

data/
	Folder containing the data generated by the jobarray_* and sim_* files
